<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PetalCart</title>
</head>
<style>
.messages { max-width: 1200px; margin: 0 auto; }
.alert { 
    padding: 15px; 
    margin: 10px; 
    border-radius: 6px;
    border: 1px solid transparent;
}
.alert-success { background:#d4edda; color:#155724; border-color: #c3e6cb; }
.alert-error, .alert-danger { background:#f8d7da; color:#721c24; border-color: #f5c6cb; }
.alert-warning { background:#fff3cd; color:#856404; border-color: #ffeeba; }
.alert-info { background:#cce5ff; color:#0c5460; border-color: #b8daff; }
</style>

<body>
  <header style="padding: 10px 40px;">
    <h2> Hello, {{ user.username|default:"Guest" }}</h2>
  </header>
  
  {% if messages %}
  <div class="messages">
      {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">
              {{ message }}
          </div>
      {% endfor %}
  </div>
  {% endif %}

  {% if user.is_authenticated %}
    {% with user_groups=user.groups.all|stringformat:"s" %}
        {% if "ShopOwner" in user_groups %}
            {% include 'navbar_shops.html' %}
        {% else %}
            {% include 'navbar.html' %}
        {% endif %}
    {% endwith %}
  {% else %}
    {% include 'navbar.html' %}
  {% endif %}

  <main>
    {% block content %}
    {% endblock %}
  </main>
</body>
</html>
